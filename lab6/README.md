# Образовательный портал с отзывами

Веб-приложение для образовательной платформы с возможностью оставлять отзывы к онлайн-курсам.

## Функциональность

- Просмотр курсов
- Авторизация пользователей
- Создание отзывов к курсам
- Просмотр отзывов с пагинацией и сортировкой
- Автоматический пересчет рейтинга курсов

## Установка и запуск

### 1. Создание виртуальной среды

```bash
python -m venv ve
```

#### Windows
```bash
ve\Scripts\activate
```

#### Linux/Mac
```bash
source ve/bin/activate
```

### 2. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 3. Настройка базы данных

Отредактируйте файл `app/config.py` для настройки подключения к БД.

### 4. Инициализация миграций

```bash
flask db init
flask db migrate -m "Initial migration"
flask db upgrade
```

### 5. Создание пользователя

```bash
flask shell
```

В shell выполните:
```python
from app.models import db, User
user = User(first_name='Иван', last_name='Иванов', login='user')
user.set_password('qwerty')
db.session.add(user)
db.session.commit()
exit()
```

### 6. Запуск приложения

```bash
flask run
```

Приложение будет доступно по адресу: http://localhost:5000

## Тестирование

Для запуска тестов:

```bash
pytest tests/
```

## Структура проекта

- `app/` - основной код приложения
  - `models.py` - модели данных
  - `repositories/` - репозитории для работы с данными
  - `templates/` - HTML шаблоны
  - `static/` - статические файлы
- `tests/` - тесты
- `requirements.txt` - зависимости

## Возможности отзывов

1. **Создание отзывов**: пользователи могут оставлять отзывы с оценкой от 0 до 5 и текстом
2. **Просмотр отзывов**: последние 5 отзывов на странице курса + страница всех отзывов
3. **Сортировка**: по новизне, сначала положительные, сначала отрицательные
4. **Пагинация**: отзывы отображаются постранично
5. **Уникальность**: один пользователь может оставить только один отзыв к курсу
6. **Автоматический пересчет рейтинга**: рейтинг курса обновляется при добавлении отзыва
